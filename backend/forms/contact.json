{
  "id": "contact",
  "name": "contact",
  "schema": {
    "display": "form",
    "components": [
      {
        "label": "Columns",
        "columns": [
          {
            "components": [
              {
                "label": "Civilité",
                "widget": "choicesjs",
                "placeholder": "Sélectionnez une civilité",
                "tableView": true,
                "dataSrc": "custom",
                "defaultValue": "Mr",
                "data": {
                  "custom": "var url = 'http://localhost:5001/api/listes/Genre';\nvar headers = { 'Content-Type': 'application/json' };\nvar _token = (typeof window !== 'undefined' && window.localStorage) ? localStorage.getItem('access_token') : '';\nif (_token) headers.Authorization = 'Bearer ' + _token;\nreturn fetch(url, { headers }).then(r => r.ok ? r.json() : []).then(arr => Array.isArray(arr) ? arr : []);"
                },
                "valueProperty": "valeur",
                "template": "{{ item.valeur }}",
                "clearOnRefresh": true,
                "searchEnabled": false,
                "validate": {
                  "required": true
                },
                "validateWhenHidden": false,
                "key": "civilite",
                "type": "select",
                "input": true
              },
              {
                "label": "Prénom",
                "applyMaskOn": "change",
                "tableView": true,
                "validateWhenHidden": false,
                "key": "prenom",
                "type": "textfield",
                "input": true
              },
              {
                "label": "Nom",
                "applyMaskOn": "change",
                "tableView": true,
                "validateWhenHidden": false,
                "key": "nom",
                "type": "textfield",
                "input": true
              },
              {
                "label": "Email",
                "applyMaskOn": "change",
                "tableView": true,
                "validateWhenHidden": false,
                "key": "email",
                "type": "email",
                "input": true
              },
              {
                "label": "Téléphone",
                "applyMaskOn": "change",
                "tableView": true,
                "validateWhenHidden": false,
                "key": "telephone",
                "type": "phoneNumber",
                "input": true
              },
              {
                "label": "Adresse",
                "applyMaskOn": "change",
                "tableView": true,
                "validateWhenHidden": false,
                "key": "adresse",
                "type": "textfield",
                "input": true
              },
              {
                "label": "Poste",
                "widget": "choicesjs",
                "tableView": true,
                "data": {
                  "values": [
                    {
                      "label": "AVV",
                      "value": "avv"
                    },
                    {
                      "label": "SALES",
                      "value": "sales"
                    }
                  ]
                },
                "validateWhenHidden": false,
                "key": "poste",
                "type": "select",
                "input": true
              }
            ],
            "width": 6,
            "offset": 0,
            "push": 0,
            "pull": 0,
            "size": "md",
            "currentWidth": 6
          },
          {
            "components": [
              {
                "label": "Entreprise",
                "widget": "choicesjs",
                "customClass": "select-dark",
                "tableView": true,
                "dataSrc": "custom",
                "data": {
                  "custom": "var url = 'http://localhost:5001/api/entreprises';\nvar headers = { 'Content-Type': 'application/json' };\nvar _token = (typeof window !== 'undefined' && window.localStorage) ? localStorage.getItem('access_token') : '';\nif (_token) headers.Authorization = 'Bearer ' + _token;\nreturn fetch(url, { headers }).then(r => r.ok ? r.json() : []).then(arr => Array.isArray(arr) ? arr.map(e => ({ value: e.id, label: e.nom })) : []);"
                },
                "valueProperty": "value",
                "template": "{{ item.label }}",
                "validate": {
                  "required": true
                },
                "validateWhenHidden": false,
                "key": "entreprise",
                "type": "select",
                "input": true
              },
              {
                "label": "Statut",
                "widget": "choicesjs",
                "placeholder": "Sélectionnez un statut",
                "customClass": "select-dark",
                "tableView": true,
                "dataSrc": "custom",
                "defaultValue": "A faire",
                "data": {
                  "custom": "var url = 'http://localhost:5001/api/listes/Statut';\nvar headers = { 'Content-Type': 'application/json' };\nvar _token = (typeof window !== 'undefined' && window.localStorage) ? localStorage.getItem('access_token') : '';\nif (_token) headers.Authorization = 'Bearer ' + _token;\nreturn fetch(url, { headers }).then(r => r.ok ? r.json() : []).then(arr => Array.isArray(arr) ? arr : []);"
                },
                "valueProperty": "valeur",
                "template": "{{ item.valeur }}",
                "clearOnRefresh": true,
                "searchEnabled": false,
                "validate": {
                  "required": true
                },
                "validateWhenHidden": false,
                "key": "statut",
                "type": "select",
                "input": true
              },
              {
                "label": "Tags",
                "widget": "choicesjs",
                "placeholder": "Sélectionnez un tag",
                "customClass": "select-dark",
                "tableView": true,
                "dataSrc": "custom",
                "defaultValue": "Mr",
                "data": {
                  "custom": "var url = 'http://localhost:5001/api/listes/Tag';\nvar headers = { 'Content-Type': 'application/json' };\nvar _token = (typeof window !== 'undefined' && window.localStorage) ? localStorage.getItem('access_token') : '';\nif (_token) headers.Authorization = 'Bearer ' + _token;\nreturn fetch(url, { headers }).then(r => r.ok ? r.json() : []).then(arr => Array.isArray(arr) ? arr : []);"
                },
                "valueProperty": "valeur",
                "template": "{{ item.valeur }}",
                "clearOnRefresh": true,
                "searchEnabled": false,
                "validate": {
                  "required": true
                },
                "validateWhenHidden": false,
                "key": "tags",
                "type": "select",
                "input": true
              },
              {
                "label": "Source",
                "widget": "choicesjs",
                "placeholder": "Sélectionnez une source",
                "customClass": "select-dark",
                "tableView": true,
                "dataSrc": "custom",
                "defaultValue": "Leadeo",
                "data": {
                  "custom": "var url = 'http://localhost:5001/api/listes/Source';\nvar headers = { 'Content-Type': 'application/json' };\nvar _token = (typeof window !== 'undefined' && window.localStorage) ? localStorage.getItem('access_token') : '';\nif (_token) headers.Authorization = 'Bearer ' + _token;\nreturn fetch(url, { headers }).then(r => r.ok ? r.json() : []).then(arr => Array.isArray(arr) ? arr : []);"
                },
                "valueProperty": "valeur",
                "template": "{{ item.valeur }}",
                "clearOnRefresh": true,
                "searchEnabled": false,
                "validate": {
                  "required": true
                },
                "validateWhenHidden": false,
                "key": "source",
                "type": "select",
                "input": true
              },
              {
                "label": "Notes",
                "applyMaskOn": "change",
                "autoExpand": false,
                "tableView": true,
                "validateWhenHidden": false,
                "key": "notes",
                "type": "textarea",
                "input": true
              }
            ],
            "width": 6,
            "offset": 0,
            "push": 0,
            "pull": 0,
            "size": "md",
            "currentWidth": 6
          }
        ],
        "key": "columns",
        "type": "columns",
        "input": false,
        "tableView": false
      },
      {
        "label": "Enregistrer",
        "action": "event",
        "showValidations": false,
        "disableOnInvalid": true,
        "tableView": false,
        "key": "submit",
        "type": "button",
        "event": "customEvent",
        "input": true
      }
    ]
  },
  "createdAt": "2025-09-10T08:39:12.134Z",
  "updatedAt": "2025-09-10T17:07:14.703Z"
}